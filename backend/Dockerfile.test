FROM node:18-alpine

WORKDIR /app

# Create a simple test server
RUN echo 'const http = require("http"); \
const server = http.createServer((req, res) => { \
  res.writeHead(200, {"Content-Type": "application/json"}); \
  res.end(JSON.stringify({message: "EOTY Platform API", status: "running"})); \
}); \
const PORT = process.env.PORT || 5000; \
server.listen(PORT, () => console.log(`Test server running on port ${PORT}`));' > server.js

EXPOSE 5000

CMD ["node", "server.js"]
